# Документация API

## Доступ в admin
**Прямая ссылка:** _https://api.govcarpets.ru_
(P.S -> redirect _admin_) 

# Эндпоинт: Получение преимуществ и фото дорожек

Этот эндпоинт предоставляет список преимуществ и связанных с ними фотографий ковровых дорожек.

**Метод:** `GET`

**Параметры Метода:** `отсутствуют`

**URL:** `/api/v1/advantages/`

**Конечная ссылка:** `https://api.govcarpets.ru/api/v1/advantages`

#### Описание
Эндпоинт возвращает два набора данных:
1. Список преимуществ ковровых дорожек, отсортированных по порядковому номеру.
2. Список фотографий ковровых дорожек.


Данные собираются параллельно, что позволяет повысить производительность и уменьшить время ожидания.

#### Пример запроса

```json
{
  "status": "success",
  "data": {
    "list": [
      {
        "carpet_runners__title": "Название преимущества 1",
        "description": "Описание преимущества 1"
      },
      
      {
        "carpet_runners__title": "Название преимущества 2",
        "description": "Описание преимущества 2"
      },

    ],
    "photos": [
      {
        "title": "Название фото 1",
        "photo_path": "https://example.com/media/photo-1.jpg"
      }, 
      
      {
        "title": "Название фото 1",
        "photo_path": "https://example.com/media/photo-2.jpg"
      }
    ]
  }
}
```

# Эндпоинт: Получение информации для футера

Этот эндпоинт предоставляет информацию для футера сайта, включая контакты, документы и услуги.


**Метод:** `GET`

**Параметры Метода:** _отсутствуют_

**URL:** `/api/v1/footer-info`

**Конечная ссылка:** `https://api.govcarpets.ru/api/v1/footer-info`

#### Описание
Эндпоинт возвращает три набора данных:
1. Контактная информация.
2. Документы, доступные для скачивания.
3. Услуги, доступные для скачивания.

Запросы к базе данных выполняются параллельно для повышения производительности.

```json
{
  "status": "success",
  "data": {
    "contacts": [
      {
        "copyright": "ООО 'Компания'",
        "phone": "+7 (123) 456-78-90",
        "inn": "1234567890",
        "ogrn": "1234567890123",
        "email": "info@company.com"
      }
    ],
    "documents": [
      {
        "title": "Политика конфиденциальности",
        "file_doc_path": "https://example.com/media/privacy_policy.pdf"
      }
    ],
    "services": [
      {
        "title": "Услуга №1",
        "file_doc_path": "https://example.com/media/service_1.pdf"
      }
    ]
  }
}
```
#### Детали ответа
- **contacts**: Массив объектов с контактной информацией.
    - **copyright**: Правовая информация.
    - **phone**: Контактный номер телефона.
    - **inn**: ИНН компании.
    - **ogrn**: ОГРН компании.
    - **email**: Контактный email.

- **documents**: Массив объектов с документами.
    - **title**: Название документа.
    - **file_doc_path**: Полный URL для доступа к документу.

- **services**: Массив объектов с услугами.
    - **title**: Название услуги.
    - **file_doc_path**: Полный URL для доступа к файлу с описанием услуги.

# Эндпоинт: Получение списка цветов продуктов

Этот эндпоинт предоставляет список доступных цветов для продуктов.

**Метод:** `GET`

**Параметры Метода:** `отсутствуют`

**URL:** `/api/v1/colors-products`

**Конечная ссылка:** `https://api.govcarpets.ru/api/v1/colors-products`


#### Описание
Эндпоинт возвращает массив доступных цветов продуктов.

#### Пример запроса
```json
{
  "status": "success",
  "data": {
    "colors": [
      {
        "name": "Красный",
        "color": "#FF0000"
      },
      {
        "name": "Синий",
        "color": "#0000FF"
      }
    ]
  }
}
```
#### Детали ответа

- **colors**: Массив объектов с информацией о цветах продуктов.
    - **name**: Название цвета.
    - **color**: Значение цвета в формате HEX.


## ФИЛЬТР - Доступные категории

**Прямая ссылка:** _https://api.govcarpets.ru/get-api/categories_

**Тип запроса:** _GET_

**Параметры Метода:** _отсутствуют_

**Описание:** _отсутствует_

![Изображение](https://i.postimg.cc/63Sk4h5F/2024-08-27-11-49-05.png)


## Акционные позиции в наличии - отображение продуктов на главной странице

**Прямая ссылка:** _https://api.govcarpets.ru/get-api/promot-items_

**Тип запроса:** _GET_

**Параметры GET:** _отсутствуют_

**Описание:** _настраивается в admin отобраение_

![Изображение](https://i.postimg.cc/nLLYPD0k/2024-08-29-16-24-58.png)


## Список продуктов

**Прямая ссылка:** _https://api.govcarpets.ru/get-api/products_

**Тип запроса:** _GET_

**Параметры GET:** _есть_

> Доступные параметры get: color, category, select_filter, page, page_size

**Описание:** _по умолчанию, если нет переданных параметров, выдится полный список продуктов с ограничениями: первая страница, 20 записей, всего показано_

![Изображение](https://i.postimg.cc/3Jncf7vB/2024-08-29-12-09-19.png)


### Получение продуктов по цвету
> http://api.govcarpets.ru/get-api/products?color=ff0000


### Получение продуктов по категории
> http://api.govcarpets.ru/get-api/products?category=2

_Чтобы узнать id категории обратитесь к api https://api.govcarpets.ru/get-api/categories_

### Получение продуктов по фильтру
> http://api.govcarpets.ru/get-api/products?select_filter=new

#### Список доступных фильтров
```python
('recommend', 'Рекомендуемые'),
('popular', 'Популярные'),
('new', 'Новые'),
('hit', 'Хиты'),
('other', 'Другое')
```

### Комбинирование параметров
> http://api.govcarpets.ru/get-api/products?color=ff0000&category=2

### Получение следующей страницы списка продуктов
> http://api.govcarpets.ru/get-api/products?page=2

### Изменить кол-во отображения продуктов
> http://api.govcarpets.ru/get-api/products?page_size=2
